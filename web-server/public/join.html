<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>仕高利達 - 報名</title>
    <meta name="keywords" content="仕高利達 - 怎麼搭都好吃">
    <meta content="width=device-width, maximum-scale=1, user-scalable=no" name="viewport">
    <meta property="og:title" content="仕高利達 - 怎麼搭都好吃" />
    <meta property="og:description" content="仕高利達 - 怎麼搭都好吃" />
    <meta property="og:type" content="website" />
    <link href="styles/reset.css" rel="stylesheet" type="text/css">
    <link href="styles/play.css" rel="stylesheet" type="text/css">
    <!-- <script src="scripts/judgeOrientation.js"></script> -->
    <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
    <!-- <script type="text/javascript" src="scripts/input.js"></script>
    <script type="text/javascript" src="scripts/align.js"></script>
    <script type="text/javascript" src="scripts/play.js"></script>
    <script type="text/javascript" src="js/lib/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="js/game.js"></script> -->

    <script type="text/javascript" src="js/lib/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="js/game.js"></script>

    <style type="text/css">
    #center {
        max-width: 400px;
        position: relative;
        top: 30%;
        margin: 0 auto;
    }
    
    #upload {
    	position: relative;
        background: url(../images/join/upload.png) 0 0 no-repeat;
        margin: auto;
        height: 120px;
        width: 120px;
        margin-bottom: 20px;
    }

    #upload img {
    	position: absolute;
    	width: 100%;
    	height: 100%;
    }

    #upload input {
    	position: absolute;
    	width: 100%;
    	height: 100%;
    	opacity: 0;
    	z-index: 1;
    }
    
    #name {
        background: url(../images/join/name.png) 0 0 no-repeat;
        margin: auto;
        max-width: 330px;
        height: 50px;
        margin: 5px auto;
    }
    
    #table {
        background: url(../images/join/table.png) 0 0 no-repeat;
        margin: auto;
        max-width: 330px;
        height: 50px;
        margin: 5px auto;
    }
    
    #join {
        background: url(../images/join/join.png) center center no-repeat;
        width: 130px;
        height: 130px;
        margin: 20px auto;
    }
    
    #table input,
    #name input {
        position: relative;
        left: 100px;
        width: 200px;
        height: 45px;
        text-align: center;
        /*background-color: #f5e1be;*/
        background-color: transparent;
        /*float: right;*/
        border-top-right-radius: 10px;
        border-bottom-right-radius: 10px;
        padding: 0 10px;
        border: 0;
        color: #633c1b;
        font-size: 18px;
        font-weight: bold;
    }
    
    button {
        width: 100%;
        height: 100%;
        background-color: transparent;
        border: 0;
    }
    
    ::-webkit-input-placeholder {
        color: #564434;
    }
    </style>
</head>

<body>
    <script type="text/javascript">
    function readURL(input) {
        console.log(input.files);
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                console.log(e);
                $('#blah').attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

    var upload = function() {

    };

    var join = function() {
        var name = $("#name input").val();
        var table = $("#table input").val();
        game.register(name, table, function(err, data){
            if (err) {
                return window.location.href = "/join_fail.html";
            }
            window.location.href = "/fb_share.html?pid="+data.pid;
        });
    };
    </script>
    <div id="container">
        <div id="center">
            <div id="upload">
            	<input type='file' onchange="readURL(this);" accept="image/*"/>
    			<img id="blah" src="" />
            </div>
            <div id="name">
                <input type="text" placeholder="請輸入您的名稱">
            </div>
            <div id="table">
                <input type="text" placeholder="請輸入座位桌號">
            </div>
            <div id="join">
                <button id="btn_join" onclick="join()"></button>
            </div>
        </div>
    </div>
    <img id="im" src="images/footer.png">    
</body>

</html>
